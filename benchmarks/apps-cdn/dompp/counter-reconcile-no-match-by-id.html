<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>DOMPP CDN - Counter Reconcile (No matchById)</title>
</head>
<body>
  <div id="app"></div>
  <script type="module">
    import "../../../src/index.js";
    import { installDomppReconcile } from "../../../src/addons/reconcile.addon.js";
    import { installDomppStateful } from "../../../src/reactive/stateful.js";

    installDomppReconcile({ overrideSetters: true });
    installDomppStateful();

    const app = document.getElementById("app").setState({ count: 0 });

    const title = document.createElement("h2");

    const decBtn = document.createElement("button")
      .setAttributes({ type: "button" })
      .setText("-1")
      .setEvents({
        click: () => app.setState(({ state: s }) => {
          s.count -= 1;
        })
      });

    const incBtn = document.createElement("button")
      .setAttributes({ type: "button" })
      .setText("+1")
      .setEvents({
        click: () => app.setState(({ state: s }) => {
          s.count += 1;
        })
      });

    const resetBtn = document.createElement("button")
      .setAttributes({ type: "button" })
      .setText("Reset")
      .setEvents({
        click: () => app.setState({ count: 0 })
      });

    app.setChildren(({ state }) => {
      title.setText(`Count: ${state.count}`);
      return [title, decBtn, incBtn, resetBtn];
    });
  </script>
</body>
</html>
